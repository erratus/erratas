<title>Register</title>
{% extends 'base.html' %}
{% block main %}

<br>
<div class="container">
    <form action="/register" method="post" onsubmit="return validateForm()">
        <div class="mb-3">
            <label for="name" class="form-label">Name</label>
            <input type="text" name="name" class="form-control" placeholder="Please enter your name" id="name" required>
        </div>
        <div class="mb-3">
            <label for="username" class="form-label">Username</label>
            <input type="text"  name="username" class="form-control" maxlength="30" placeholder="Please enter a username" id="username" required>
        </div>
        <div class="mb-3">
            <label for="Email" class="form-label">Email address</label>
            <input type="email" name="email" class="form-control" placeholder="Please enter your email address" id="Email" aria-describedby="emailHelp" required>
        </div>
        <div class="mb-3">
            <label for="password" class="form-label">Password</label>
            <input type="password" name="password" class="form-control" maxlength="20" minlength="8" placeholder="Please enter the password" id="password" required>
        </div>
        <div class="mb-3">
            <label for="confirmPassword" class="form-label">Confirm Password</label>
            <input type="password" name="confirmpassword" class="form-control" maxlength="20" minlength="8" placeholder="Please confirm the password"  id="confirmPassword" required>
            <small id="passwordMatch" style="color: red;"></small>
        </div>
        <div class="mb-3">
            <div class="d-flex">
                <div class="country-code-box">
                    <label for="country" class="form-label">Country Code:</label>
                    <select id="country" name="country" class="form-control" required>
                        <option value="" disabled selected></option>
                        <option value="+91">+91 (India)</option>
                        <option value="+1">+1 (United States)</option>
                        <option value="+44">+44 (United Kingdom)</option>
                        <option value="+33">+33 (France)</option>
                        <option value="+49">+49 (Germany)</option>
                        <option value="+81">+81 (Japan)</option>
                        <option value="+86">+86 (China)</option>
                        <option value="+91">+91 (India)</option>
                        <option value="+61">+61 (Australia)</option>
                        <option value="+34">+34 (Spain)</option>
                        <option value="+39">+39 (Italy)</option>
                        <option value="+7">+7 (Russia)</option>
                    </select>
                </div>
                <div class="phone-number-input">
                    <label for="phoneNumber" class="form-label">Phone number</label>
                    <input type="tel" name="phone_number" class="form-control" id="phoneNumber" placeholder="123-456-3421" required pattern="[0-9]{10}">
                </div>
            </div>
        </div>
        <button type="submit" class="btn btn-primary">Submit</button>
    </form>

    <script>
        function validateForm() {
            var password = document.getElementById("password").value;
            var confirmPassword = document.getElementById("confirmPassword").value;

            if (password !== confirmPassword) {
                document.getElementById("passwordMatch").innerText = "Passwords do not match!";
                return false;
            } else {
                document.getElementById("passwordMatch").innerText = "";
                return true;
            }
        }
    </script>
</div>
{% endblock main %}